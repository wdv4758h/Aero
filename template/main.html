{% extends '_section.html' %}

{% block title %} AERO {% endblock %}

{% block options %}
<ul>
    <li><a href="logout">Sign Out</a></li>
</ul>
{% endblock %}

{% block content %}
<section class="flight-schedule" ng-app='Airline'>
    <div class="option-bar">
        <h1 class="left">Flight Schedule</h1>
        {% if _SESSION.is_admin %}
        <div class="option-group right">
            <a href="new_flight" class="btn">Add</a>
            <input type="search">
        </div>
        {% endif %}
    </div>

    <table ng-controller='flightList'>
        <thead>
            <tr>
                <td>ID</td>
                <td>Flight Number</td>
                <td>Departure</td>
                <td>Arrival</td>
                <td>Departing Time</td>
                <td>Arriving Time</td>
                {% if _SESSION.is_admin %}<td>Operations</td>{% endif %}
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat='flight in flights'>
                <td>[[ flight.id ]]</td>
                <td>[[ flight.code ]]</td>
                <td>[[ flight.departure ]]</td>
                <td>[[ flight.arrival ]]</td>
                <td>[[ flight.departure_date ]]</td>
                <td>[[ flight.arrival_date ]]</td>
                {% if _SESSION.is_admin %}
                <td>
                    <a href="edit_flight?id=[[ flight.id ]]">Edit</a>
                    <a href="delete_flight?id=[[ flight.id ]]">Delete</a>
                </td>
                {% endif %}
            </tr>
        </tbody>
    </table>
</section>

{% endblock %}
